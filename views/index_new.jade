extends layout

block header
    link(rel='stylesheet', href='/css/loader.css')
    link(rel='stylesheet', href='/css/billboard.css')

block content

    div#loader(style="position: absolute; height: 100%; width: 100%;"): div.spinner

    div#sche1_img1.target(style="background-image:url('assets/img/program/doglegs_thumb.png');"): p.detail 11/3 AM11:00
    div#sche1_img2.target(style="background-image:url('assets/img/program/kaihoku.png');"): p.detail 11/3 AM11:00
    div#sche1_img3.target(style="background-image:url('assets/img/program/heishia.png');"): p.detail 11/3 AM11:00
    div#sche1_img4.target(style="background-image:url('assets/img/program/urubo.png');"): p.detail 11/3 AM11:00
    div#sche1_img5.target(style="background-image:url('assets/img/program/unknown1.png');"): p.detail 11/3 AM11:00
    div#sche1_img6.target(style="background-image:url('assets/img/program/unknown2.png');"): p.detail 11/3 AM11:00

    if !mobile
        div(style="position:absolute;height:60px;width:100%;top:0px;background-color:rgba(40,10,20,0.7);z-index:100;")
                img.titleheader(src="assets/img/documemento_header.png")
    div(style="position: absolute; height: 100%; width: 100%;")

        a-scene
            a-assets
                //360 Videos
                video#er_yataimura(src="media/er/shinagawa/yataimura.mp4", muted, autoplay,loop="true")
                //video#er_honshoji(src="media/er/shinagawa/honshoji.mp4", muted, autoplay,loop="true")
                //video#er_matsumoto(src="media/er/shinagawa/matsumoto.mp4", muted, autoplay,loop="true")
                //video#er_tokaido(src="media/er/shinagawa/tokaido1.mp4", muted, autoplay,loop="true")
                //video#er_kaidocafe(src="media/er/shinagawa/kaidocafe.mp4", muted, autoplay,loop="true")

                //3D Models
                a-asset-item#small-mtl(src="assets/models/camerahouse/small.mtl")
                a-asset-item#small-obj(src="assets/models/camerahouse/small.obj")
                a-asset-item#large-obj(src="assets/models/camerahouse/large.obj")
                a-asset-item#earth-mtl(src="assets/models/earth/earth.mtl")
                a-asset-item#earth-obj(src="assets/models/earth/earth.obj")
                a-asset-item#amagi-mtl(src="assets/models/amagi/amagi.mtl")
                a-asset-item#amagi-obj(src="assets/models/amagi/amagi.obj")
                a-asset-item#infobox-mtl(src="assets/models/infobox/box.mtl")
                a-asset-item#infobox-obj(src="assets/models/infobox/box.obj")
                a-asset-item#lantan-mtl(src="assets/models/lantan/lantan.mtl")
                a-asset-item#lantan-obj(src="assets/models/lantan/lantan.obj")

                a-asset-item#panelbox-obj(src="assets/models/panelbox/box.obj")
                a-asset-item#panelbox-mtl(src="assets/models/panelbox/box.mtl")
                a-asset-item#panelbox-uchiyama-mtl(src="assets/models/panelbox/uchiyama.mtl")
                a-asset-item#panelbox-yonemoto-mtl(src="assets/models/panelbox/yonemoto.mtl")

                //3D models - numbers
                a-asset-item#num0-mtl(src="assets/models/numbers/0.mtl")
                a-asset-item#num0-obj(src="assets/models/numbers/0.obj")
                a-asset-item#num1-mtl(src="assets/models/numbers/1.mtl")
                a-asset-item#num1-obj(src="assets/models/numbers/1.obj")
                a-asset-item#num2-mtl(src="assets/models/numbers/2.mtl")
                a-asset-item#num2-obj(src="assets/models/numbers/2.obj")
                a-asset-item#num3-mtl(src="assets/models/numbers/3.mtl")
                a-asset-item#num3-obj(src="assets/models/numbers/3.obj")
                a-asset-item#num4-mtl(src="assets/models/numbers/4.mtl")
                a-asset-item#num4-obj(src="assets/models/numbers/4.obj")
                a-asset-item#num5-mtl(src="assets/models/numbers/5.mtl")
                a-asset-item#num5-obj(src="assets/models/numbers/5.obj")
                a-asset-item#num6-mtl(src="assets/models/numbers/6.mtl")
                a-asset-item#num6-obj(src="assets/models/numbers/6.obj")
                a-asset-item#num7-mtl(src="assets/models/numbers/7.mtl")
                a-asset-item#num7-obj(src="assets/models/numbers/7.obj")
                a-asset-item#num8-mtl(src="assets/models/numbers/8.mtl")
                a-asset-item#num8-obj(src="assets/models/numbers/8.obj")
                a-asset-item#num9-mtl(src="assets/models/numbers/9.mtl")
                a-asset-item#num9-obj(src="assets/models/numbers/9.obj")

                //3D models - arrow
                a-asset-item#up-mtl(src="assets/models/arrow/up.mtl")
                a-asset-item#up-obj(src="assets/models/arrow/up.obj")
                a-asset-item#down-mtl(src="assets/models/arrow/down.mtl")
                a-asset-item#down-obj(src="assets/models/arrow/down.obj")

                // About
                //img#img_doculogo(src="assets/img/documement2.png")
                img#img_kaijo(src="assets/img/cmenu_venue.png")
                img#img_toudansha(src="assets/img/cmenu_toudansha.png")
                img#img_program(src="assets/img/cmenu_program.png")
                img#img_aboutfes(src="assets/img/cmenu_documemento.png")
                img#img_aboutfes_j(src="assets/img/cmenu_documemento_j.png")

                img#img_businessman(src="assets/img/businessman.png")
                img#img_tabitabi(src="assets/img/tabitabi.png")
                img#img_tokyodocs(src="assets/img/tokyodocs.png")
                img#img_colorsofasia(src="assets/img/colorsofasia.png")
                img#img_kaihouku(src="assets/img/kaihouku.png")

                img#img_venue_yataimura(src="assets/img/venue/shinagawa_yataimura.png")
                img#img_venue_honshoji(src="assets/img/venue/shinagawa_honsyoji.png")
                img#img_venue_matsumoto(src="assets/img/venue/shinagawa_matsumoto.png")
                img#img_venue_kaidocafe(src="assets/img/venue/shinagawa_kaidocafe.png")

                img#img_shadow(src="assets/img/radial-shadow-2.png")

                //logos
                img#img_logo_bug(src="assets/img/buglogo.png")
                img#img_logo_tokyodocs(src="assets/img/tokyodocs_logo.jpg")
                img#img_logo_sog(src="assets/img/sog_logo.png")

                //////////  panelers
                //松井
                img#panel_matsui_front(src="assets/img/panelists/color_matsui.png")
                img#panel_matsui_back(src="assets/img/panelists/matsui.png")
                //米本
                img#panel_yonemoto_front(src="assets/img/panelists/color_yonemoto.png")
                img#panel_yonemoto_back(src="assets/img/panelists/yonemoto.png")
                //ota
                img#panel_ota_front(src="assets/img/panelists/color_ota.png")
                img#panel_ota_back(src="assets/img/panelists/ota.png")
                //uchiyama
                img#panel_uchiyama_front(src="assets/img/panelists/color_uchiyama.png")
                img#panel_uchiyama_back(src="assets/img/panelists/uchiyama.png")
                //藤岡
                img#panel_fujioka_front(src="assets/img/panelists/color_fujioka.png")
                img#panel_fujioka_back(src="assets/img/panelists/fujioka.png")
                //竹岡
                img#panel_takeoka_front(src="assets/img/panelists/color_takeoka.png")
                img#panel_takeoka_back(src="assets/img/panelists/takeoka.png")
                //奥間
                img#panel_okuma_front(src="assets/img/panelists/color_okuma.png")
                img#panel_okuma_back(src="assets/img/panelists/okuma.png")
                //KAN
                img#panel_kan_front(src="assets/img/panelists/color_kan.png")
                img#panel_kan_back(src="assets/img/panelists/kan.png")
                //Ota
                img#panel_tanaka_front(src="assets/img/panelists/color_tanaka.png")
                img#panel_tanaka_back(src="assets/img/panelists/tanaka.png")
                //Hidaka
                img#panel_hidaka_front(src="assets/img/panelists/color_hidaka.png")
                img#panel_hidaka_back(src="assets/img/panelists/hidaka.png")
                //Shikai
                img#panel_shikai_front(src="assets/img/panelists/color_shikai.png")
                img#panel_shikai_back(src="assets/img/panelists/shikai.png")
                //Tokyo
                img#panel_tokyo_front(src="assets/img/panelists/color_tokyo.png")
                img#panel_tokyo_back(src="assets/img/panelists/tokyo.png")
                //Deguchi
                img#panel_deguchi_front(src="assets/img/panelists/color_deguchi.png")
                img#panel_deguchi_back(src="assets/img/panelists/deguchi.png")
                //津留崎
                img#panel_tsurusaki_front(src="assets/img/panelists/color_tsurusaki.png")
                img#panel_tsurusaki_back(src="assets/img/panelists/tsurusaki.png")


            ///////////////////  3D MODELS

            a-entity#panelbox1(panelbox, position="0 45 -3")
                a-animation(attribute="rotation", from="0 100 0", to="0 -260 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 20 0", scale="0.8 0.8 0.8", obj-model="obj: #panelbox-obj; mtl: #panelbox-mtl")

            a-entity#lantan(position="0.5 45 -3")
                a-animation(attribute="rotation", from="0 100 0", to="0 -260 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 20 0", scale="1.5 1.5 1.5", obj-model="obj: #lantan-obj; mtl: #lantan-mtl")

            a-entity#amagi(position="0 45 -3")
                a-animation(attribute="rotation", from="0 -30 0", to="0 330 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 -20 0", scale="1.5 1.5 1.5", obj-model="obj: #amagi-obj; mtl: #amagi-mtl")
                a-image#shadow(src="#img_shadow", rotation="-90 0 0", scale="2.5 1.5 1.5")

            a-entity#earth(position="0 45 -3")
                a-animation(attribute="rotation", from="0 -30 0", to="0 330 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 -20 0", scale="1.5 1.5 1.5", obj-model="obj: #earth-obj; mtl: #earth-mtl")
                a-image#shadow(src="#img_shadow", rotation="-90 0 0", scale="2.5 1.5 1.5")

            a-entity#infobox(position="0 0 -3")
                a-animation(attribute="rotation", from="0 -30 0", to="0 330 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 -20 0", scale="1.5 1.5 1.5", obj-model="obj: #infobox-obj; mtl: #infobox-mtl")

            a-entity#house_small(position="0 45 -3")
                a-animation(attribute="rotation", from="0 -30 0", to="0 330 0", dur="15000", easing="linear", repeat="indefinite")
                a-collada-model(position="0 0 0", rotation="0 -20 0", scale="1.5 1.5 1.5", obj-model="obj: #small-obj; mtl: #small-mtl")
                    a-animation(attribute="rotation", from="0 0 0", to="10 0 0", dur="12000", easing="ease-in-out", repeat="indefinite", direction="alternate")
                a-image#shadow(src="#img_shadow", rotation="-90 0 0", scale="2.5 1.5 1.5")

            a-entity#house_large(position="0 0 -3")
                a-animation(attribute="rotation", from="0 330 0", to="0 -30 0", dur="20000", repeat="indefinite", easing="linear")
                a-collada-model(position="-.35 0 .55", rotation="0 -20 0", scale="1.5 1.5 1.5", obj-model="obj: #large-obj; mtl: #small-mtl")

            /////////////////  Programs
            a-cylinder#nav_zone(position="0 0 0", radius="6", height="1.6", side="back", open-ended="true", color="#FFF",opacity="0.2")
                a-cylinder(position="0 0 0", radius="5.99", height="0.03", side="back", open-ended="true", color="#ef12a4",opacity="0.5")

                a-entity#programs
                    a-image#prog_businessman(prog, type="prog", src="#img_businessman", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=0)
                    a-image#prog_tabitabi(prog, type="prog", src="#img_tabitabi", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=1)
                    a-image#prog_tokyodocs(prog, type="prog", src="#img_tokyodocs", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=2)
                    a-image#prog_colorsofasia(prog, type="prog", src="#img_colorsofasia", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=3)
                    a-image#prog_kaihouku(prog, type="prog", src="#img_kaihouku", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=4)

                a-entity#venues
                    a-image#venue_yataimura(prog, type="prog", src="#img_venue_yataimura", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=0)
                    a-image#venue_honshoji(prog, type="prog", src="#img_venue_honshoji", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=1)
                    a-image#venue_matsumoto(prog, type="prog", src="#img_venue_matsumoto", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=2)
                    a-image#venue_kaidocafe(prog, type="prog", src="#img_venue_kaidocafe", width="5", height="10", scale="0.2 0.2 1", auto_rotate, n=3)

            /////////////////  Panellers

            a-entity#panellers
                a-image#paneller_tsurusaki(name="tsurusaki", type="panel",  paneler, src="#panel_tsurusaki_front", width="3", height="8",position="0 0 3", scale="0.5 0.5 0.5", backsrc="#panel_tsurusaki_back", n=0)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_deguchi(name="deguchi", type="panel", paneler, src="#panel_deguchi_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_deguchi_back", n=1)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_tokyo(name="tokyo", type="panel", paneler, src="#panel_tokyo_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_tokyo_back", n=2)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_shikai(name="shikai", type="panel", paneler, src="#panel_shikai_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_shikai_back", n=3)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_hidaka(name="hidaka", type="panel", paneler, src="#panel_hidaka_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_hidaka_back", n=4)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_tanaka(name="tanaka", type="panel", paneler, src="#panel_tanaka_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_tanaka_back", n=5)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_kan(name="kan", type="panel", paneler, src="#panel_kan_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_kan_back", n=6)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_okuma(name="okuma", type="panel", paneler, src="#panel_okuma_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_okuma_back", n=7)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_takeoka(name="takeoka", type="panel", paneler, src="#panel_takeoka_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_takeoka_back", n=8)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_fujioka(name="fujioka", type="panel", paneler, src="#panel_fujioka_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_fujioka_back", n=9)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_ota(name="ota", type="panel", paneler, src="#panel_ota_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_ota_back", n=10)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow, type="up")
                    a-collada-model(arrow, type="down")

                a-image#paneller_matsui(name="matsui", type="panel", paneler, src="#panel_matsui_front", width="3", height="8", position="0 0 3", scale="0.5 0.5 0.5", backsrc="#panel_matsui_back", n=11)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_yonemoto(name="yonemoto", type="panel", paneler, src="#panel_yonemoto_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_yonemoto_back", n=12)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

                a-image#paneller_uchiyama(name="uchiyama", type="panel", paneler, src="#panel_uchiyama_front", width="3", height="8",position="0 0 3",  scale="0.5 0.5 0.5", backsrc="#panel_uchiyama_back", n=13)
                    a-collada-model.d1(position="-0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d2(position="0 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model.d3(position="0.45 4.2 0", rotation="0 0 0", scale="0.9 0.9 0.9", num3D, num="0")
                    a-collada-model(arrow,type="up")
                    a-collada-model(arrow,type="down")

            //On CURVE MENU
            a-entity#cmenu
                a-curvedimage#about_program(curvemenu, type="venue", src="#img_program", radius="5.9",height="1.2", theta-length="14", n=0)
                a-curvedimage#about_toudansha(curvemenu, type="venue", src="#img_toudansha", radius="5.9",height="1.2", theta-length="14", n=1)
                a-curvedimage#about_venu(curvemenu, type="venue", src="#img_kaijo", radius="5.9",height="1.2", theta-length="14", angle="0",n=2)
                a-curvedimage#about_fes(curvemenu, type="venue", src="#img_aboutfes", radius="5.9", height="1.2", theta-length="14", position="0 0 0", n=6)
                a-curvedimage#about_fes_j(curvemenu, type="venue", src="#img_aboutfes_j", radius="5.9", height="1.2", theta-length="14", position="0 0 0", n=7)

            //a-curvedimage#logo_bug(curvemenu, type="misc", alink, src="#img_logo_bug", radius="5.7",height="0.5", theta-length="6", position="0 -0.3 0", href="http://bugdoc.tokyo/", angle="0",angle_to="235", def_angle="235")
            //a-curvedimage#logo_tokyodocs(curvemenu, type="misc", alink, src="#img_logo_tokyodocs", radius="5.7",height="0.5", theta-length="10", position="0 -0.3 0",href="http://tokyodocs.jp/", angle="0", angle_to="242", def_angle="242")
            //a-curvedimage#logo_sog(curvemenu, alink, type="misc", src="#img_logo_sog", radius="5.7",height="0.5", theta-length="10", position="0 -0.3 0",href="http://someonesgarden.org", angle="0", angle_to="252", def_angle="252")

            //////////////////   Schedule
            a-entity#schedule(position="0 45 -3",rotation="0 4 0")
                a-plane(schelink, position="0 4.2 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img1;opacity:0.90;", movie="doglegs.mp4")
                a-plane(schelink, position="0 0.7 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img2;opacity:0.90;", movie="uruho.mp4")
                a-plane(schelink, position="0 1.4 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img3;opacity:0.90;", movie="heishi_a.mp4")
                a-plane(schelink, position="0 2.1 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img4;opacity:0.90;", movie="doglegs.mp4")
                a-plane(schelink, position="0 2.8 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img5;opacity:0.90;", movie="uruho.mp4")
                a-plane(schelink, position="0 3.5 0", width="6", height="3", scale="0.2 0.2 0.2", material="shader:html;target:#sche1_img6;opacity:0.90;", movie="doglegs.mp4")

            //////////////////   LIGHT & CAMERA & SKY
            a-light(type="directional", color="#fff", intensity="0.2", position="-1 2 1")
            a-light(type="ambient", color="#fff")
            a-sky(color="#ECECEC")
            a-circle(position="0 43 4",rotation="90 0 0", radius="30",color="#000000")

            a-entity(position="0 2 0.1")
                a-entity#camera(camera, look-controls, wasd-controls, mouse-cursor)
                    //Mobileの場合だけクリック用のカーソルをVR画面に表示させる
                    if mobile
                        a-entity#cursor(position=CURSOR_OUT, scale="1 1 1", geometry="primitive:ring;radiusOuter:0.20;radiusInner:0.13;", material="color:#ADD8E6;shader:flat", cursor="maxDistance:100; fuse:true;")
                            a-animation(begin="click", easing="ease-in", attribute="scale", fill="backwards", from="0.1 0.1 0.1", to="1 1 1", dur="150")
                            a-animation(begin="fusing", easing="ease-in", attribute="scale", fill="forwards", from="1 1 1", to="0.2 0.2 0.2", dur="1200")
                    else


    script(src="js/lib/common.js")
    script(src="js/aframe/components/index.js")
    script.
        document.VR = false;
        var CURSOR_OUT = "0 12.2 -1.3";
        var CURSOR_IN = "0 0.2 -1.3";
        var mobile = #{mobile};

        var loader = document.getElementById("loader");
        var cursor = document.querySelector("#cursor");

        var scene = document.querySelector('a-scene');
        var sky   = document.querySelector('a-sky');

        //3dmodel
        var lantan = d3.select("#lantan");
        var earth = d3.select("#earth");
        var house = d3.select('#house_small');
        var largehouse = d3.select('#house_large');
        var schedule = d3.select('#schedule');
        var amagi = d3.select('#amagi');
        var infobox = d3.select('#infobox');
        var panelbox1 = d3.select('#panelbox1');
        var panelbox1selector = document.querySelector('#panelbox1');

        //Programs
        var prog_businessman = document.querySelector('#prog_businessman');
        var prog_tabitabi = document.querySelector('#prog_tabitabi');
        var prog_tokyodocs = document.querySelector('#prog_tokyodocs');
        var prog_colorsofasia = document.querySelector('#prog_colorsofasia');
        var prog_kaihouku = document.querySelector('#prog_kaihouku');

        var programs = [prog_businessman,prog_tabitabi,prog_tokyodocs,prog_colorsofasia,prog_kaihouku];

        //Panellers
        var paneller_uchiyama = document.querySelector('#paneller_uchiyama');
        var paneller_yonemoto = document.querySelector('#paneller_yonemoto');
        var paneller_matsui = document.querySelector('#paneller_matsui');
        var paneller_ota = document.querySelector('#paneller_ota');
        var paneller_fujioka = document.querySelector('#paneller_fujioka');
        var paneller_takeoka = document.querySelector('#paneller_takeoka');

        var paneller_okuma = document.querySelector('#paneller_okuma');
        var paneller_kan = document.querySelector('#paneller_kan');
        var paneller_tanaka = document.querySelector('#paneller_tanaka');
        var paneller_hidaka = document.querySelector('#paneller_hidaka');
        var paneller_shikai = document.querySelector('#paneller_shikai');
        var paneller_tokyo = document.querySelector('#paneller_tokyo');
        var paneller_deguchi = document.querySelector('#paneller_deguchi');
        var paneller_tsurusaki = document.querySelector('#paneller_tsurusaki');

        var panellers = [
            paneller_uchiyama,
            paneller_yonemoto,
            paneller_matsui,
            paneller_ota,
            paneller_fujioka,
            paneller_takeoka,
            paneller_okuma,
            paneller_kan,
            paneller_tanaka,
            paneller_hidaka,
            paneller_shikai,
            paneller_tokyo,
            paneller_deguchi,
            paneller_tsurusaki
        ];
        // About
        var about_venu = d3.select('#about_venu');
        var about_toudansha = d3.select('#about_toudansha');
        var about_program = d3.select('#about_program');
        var about_fes = d3.select('#about_fes');
        var about_fes_j = d3.select('#about_fes_j');
        // Logo
        var logo_bug = document.querySelector("#logo_bug");
        var logo_tokyodocs = document.querySelector("#logo_tokyodocs");
        var logo_sog = document.querySelector("#logo_sog");
        var votes;


        document.mode = "infobox";
        document.visible_model = infobox;


        /////////// VoteDataLoader
        var jsondataloader = function(){
            d3.json("data/vote.json", function (error, data) {

                votes = data.vote;

                for (var i = 0; i < panellers.length; i++) {
                    var p = panellers[i];

                    var name = p.getAttribute("name");
                    var d1 = p.querySelector('.d1');
                    var d2 = p.querySelector('.d2');
                    var d3 = p.querySelector('.d3');

                    var p_str = votes[name];

                    var d1_ = p_str.substr(0, 1);
                    var d2_ = p_str.substr(1, 1);
                    var d3_ = p_str.substr(2, 1);

                    d1.setAttribute("num", d1_);
                    d2.setAttribute("num", d2_);
                    d3.setAttribute("num", d3_);

                    d1.pause();
                    d1.play();
                    d2.pause();
                    d2.play();
                    d3.pause();
                    d3.play();
                }
            });
        };


        //////////// LOAD VOte DATA
        jsondataloader();

        /////////// INIT
        var run = function () {
            loader.classList.add("hidden");
            if (getDevice == 'sp') {
                scene.enterVR();
                setTimeout(function () {
                    scene.enterVR();
                }, 1000);
            }
        };

        if (!scene.hasLoaded) {
            scene.addEventListener('loaded', run);
        }


        ///////////// FUNCTION
        var switchPanelBox = function (name) {

            var model_to_change = panelbox1;
            var model_y = 0;

            model_y = model_to_change.attr("position").y;
            if (model_y == 45) {
                var tween = new AFRAME.TWEEN.Tween({y: 45, ly: 0})
                    .to({y: 0, ly: 80}, 1400)
                    //to()までの数値変化のイージング種類
                    .easing(TWEEN.Easing.Elastic.InOut)
                    .onUpdate(function () {
                        model_to_change.attr({position: "0 " + this.y + " -3"});
                        document.visible_model.attr({position: "0 " + (45 - this.y) + " -3"});
                    })
                    .onComplete(function () {
                        document.mode = "panelbox1";
                        document.visible_model = panelbox1;
                    });
                tween.start();
            }
        }


        ///////////// FUNCTION
        var switchModel = function (model) {

            var model_to_change = null;
            var model_y = 0;

            switch(model){

                case "earth":
                    sky.setAttribute("src", "");
                    model_to_change = earth;
                    break;
                case "house":
                    model_to_change = house;
                    break;
                case "schedule":
                    model_to_change = schedule;
                    break;
                case "amagi":
                    model_to_change = amagi;
                    break;
                case "infobox":
                    model_to_change = infobox;
                    break;
                case "lantan":
                    model_to_change = lantan;
                    break;
                case "panelbox1":
                    model_to_change = panelbox1;
                    break;
                default:
                    model_to_change = house;
                    break;
            }

            model_y = model_to_change.attr("position").y;
            if (model_y == 45) {
                var tween = new AFRAME.TWEEN.Tween({y: 45, ly: 0})
                    .to({y: 0, ly: 80}, 1400)
                    //to()までの数値変化のイージング種類
                    .easing(TWEEN.Easing.Elastic.InOut)
                    .onUpdate(function () {
                        model_to_change.attr({position: "0 " + this.y + " -3"});
                        document.visible_model.attr({position: "0 " + (45 - this.y) + " -3"});
                    })
                    .onComplete(function () {
                        document.mode = model;
                        document.visible_model = model_to_change;
                    });
                tween.start();
            }
        }


        //ENTER / EXIT VR
        scene.addEventListener('enter-vr', function () {
            console.log("ENTERED VR");
            if(mobile){
                cursor.setAttribute('position', CURSOR_IN);
                cursor.setAttribute('cursor',"maxDistance:100; fuse:true;");
            }
            document.VR = true;
        });
        scene.addEventListener('exit-vr', function () {
            console.log("EXIT VR");
            if(mobile) {
                cursor.setAttribute('position', CURSOR_OUT);
                cursor.setAttribute('cursor', "maxDistance:100; fuse:false;");
            }
            document.VR = false;
        });


        ////////// EVENT ////////////////

        // Logo
        //        logo_bug.addEventListener('click', function () {
        //            moveMenuItem(prog_kaihouku,30);
        //        });
        //
        //         logo_bug.addEventListener('mouseenter', function () {
        //             console.log("logo_bu");
        //            moveMenuItem(prog_kaihouku,200);
        //        });
        //         logo_bug.addEventListener('mouseleave', function () {
        //            moveMenuItem2DefPos(prog_kaihouku);
        //        });

         // About


        about_program.on('click',function(){
            switchModel("house");
            for (var i = 0; i < programs.length; i++) {
                moveMenuItem2DefPos(programs[i]);
            }

            for (var j = 0; j < panellers.length; j++) {
                moveMenuItem(panellers[j], 90);
            }
        });


        about_fes.on('click', function () {
            switchModel("infobox");

            for (var i = 0; i < programs.length; i++) {
                moveMenuItem(programs[i], 90);
            }
            for (var j = 0; j < panellers.length; j++) {
                moveMenuItem(panellers[j], 90);
            }
        });

        about_fes_j.on('click', function () {
            switchModel("house");

            for (var i = 0; i < programs.length; i++) {
                moveMenuItem(programs[i], 90);
            }
            for (var j = 0; j < panellers.length; j++) {
                moveMenuItem(panellers[j], 90);
            }
        });

        about_venu.on('click', function () {
            switchModel("lantan");
            console.log("About Town");
        });



        about_toudansha.on('click', function(){
            switchModel("house");
                for (var i = 0; i < panellers.length; i++) {
                    moveMenuItem2DefPos(panellers[i]);
                }

            for (var i = 0; i < programs.length; i++) {
                moveMenuItem(programs[i], 90);
            }

        });

        about_venu.on('mouseenter',function(){
           console.log("about_town_mouseenter");


        });

        about_venu.on('mouseleave', function(){
            console.log("about_town_mouseleave");


        })



        // Program

        prog_businessman.addEventListener('click', function () {
            switchModel("schedule");
        });

        prog_tabitabi.addEventListener('click', function () {
            switchModel("earth");
        });

        prog_tokyodocs.addEventListener('click', function () {
            console.log("tokyodokc");
            switchModel("amagi");
        });


        // 3d model

        earth.on('click', function(){
            console.log("earth clicked");
        });

        house.on('click',function(){
            console.log("house clicked");
            var largehouse_y = largehouse.attr("position").y;
            if (largehouse_y ==80) {
                sky.setAttribute("src", "");
                var tween = new AFRAME.TWEEN.Tween({y: 80})
                    .to({y: 0}, 400)
                    //to()までの数値変化のイージング種類
                    .easing(TWEEN.Easing.Circular.In)
                    .onUpdate(function () {
                        largehouse.attr({
                            position: "0 " + this.y + " -3"
                        });
                    })
                    .onComplete(function () {
                    });
                tween.start();
            }
        });


        //SOCKET.IO
        var socketresponse = function (data) {
            console.log("socketresponse test",data);

            var point = data.value.point;

            var paneller = document.querySelector('a-image#paneller_'+data.value.name);
            var thisentity = paneller.el;
            console.log("name=",paneller.getAttribute('name'));

            var d1 = paneller.querySelector('.d1');
            var d2 = paneller.querySelector('.d2');
            var d3 = paneller.querySelector('.d3');

            var p_str = ('000' + point).slice(-3);

            var d1_ = p_str.substr(0, 1);
            var d2_ = p_str.substr(1, 1);
            var d3_ = p_str.substr(2, 1);

            d1.setAttribute("num", d1_);
            d2.setAttribute("num", d2_);
            d3.setAttribute("num", d3_);

            d1.pause();
            d1.play();
            d2.pause();
            d2.play();
            d3.pause();
            d3.play();


        };


        window.socketresponse = socketresponse;
        window.votes = votes;



